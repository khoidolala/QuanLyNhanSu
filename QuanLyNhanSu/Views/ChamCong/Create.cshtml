@model QuanLyNhanSu.Models.tblChamCong

@{
    ViewBag.Title = "LuuChamCong";
    Layout = "~/Views/Shared/_Layout2.cshtml";
}

<h2 class="headerh2">Chấm công</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-group">
        @Html.LabelFor(m => m.MaNV)
        @Html.TextBoxFor(m => m.MaNV, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.TenNV)
        @Html.TextBoxFor(m => m.TenNV, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.ThoiGianVao)
        @Html.TextBoxFor(m => m.ThoiGianVao, new { @class = "form-control", @readonly = true })
        <button type="button" class="btn btn-primary" onclick="chamCong('gioVao')">Giờ vào</button>
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.ThoiGianRa)
        @Html.TextBoxFor(m => m.ThoiGianRa, new { @class = "form-control", @readonly = true })
        <button type="button" class="btn btn-primary" onclick="chamCong('gioRa')">Giờ ra</button>
    </div>

    <div class="form-group">
        <button type="submit" class="btn btn-success">Lưu</button>
    </div>
}


<script>
    function chamCong(type) {
        var now = new Date();
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();
        var timeStr = hours + ":" + minutes + ":" + seconds;

        if (type === "gioVao") {
            $("#GioVao").val(timeStr);
        } else {
            $("#GioRa").val(timeStr);
        }
    }
</script>



